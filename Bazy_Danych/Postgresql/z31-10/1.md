# Podstawa
### Logowanie do postgreSQL
```
sudo -i -u user_name
```
### Wylogowanie z postgreSQL
```
exit
```
### Wejście do psql
```
psql

psql -U user_name -d nazwa_bazy -h host -p port   
```
Host domyślnie **localhost**

Port domyślnie **5432**

Nie trzeba wykorzystywać wszystkich parametrów jeśli są domyślne
### Wyjście z psql
```
\q
```
# Pomoc
### Pomoc do  poleceń SQL (np. SELECT)
```
\h SELECT
```

### Pomoc do  poleceń psql, wyświetla wszyskie komendy psqlq
```
\? 
```
# Zarządzanie Bazami Danych
### Lista baz danych
```
\l
```
### Sprawdzenie z jaką bazą jesteśmy połączeni. Informacje o aktualnym połączeniu.
```
\c

\conninfo
```
### Połączenie z bazą danych
```
\c nazwa_bazy
```


# Zarządzanie tabelami w bierzącej bazie

### Lista tabel
```
\dt
```

### Lista widoków
```
\dv
```

### Opis struktury tabeli lub widoku
```
\d nazwa_tabeli_lub_widoku
```

### Lista wszystkich obiektów na bazie (tabele,widoki,indeksy)
```
\d
```


# Zarządzanie użytkownikami i rolami

### Lista użytkowników (ról) na bazie
```
\du
```

### Informacje o konkretnym użytkowniku
```
\du nazwa_uzytkownika
```


# Zarządzanie schematami
### Wyświetlenie wszystkich schematów na bazie
```
\dn
```
### Wyświetlenie tabel w określonym schemacie
```
\dt nazwa_schematu.*
```

# Zarządzanie funkcjami
### Wyświetlanie funckji na bazie
```
\df
```


# Zarządzanie sekwencjami
### Wyświetlanie sekwencji na bazie
```
\ds
```
### Wyświetlenie wartości id
```
SELECT * FROM klienci_id_seq;

SELECT last_value FROM klienci_id_seq;
```
### Wartość następnego id
```
SELECT nextval('klienci_id_seq');
```


# Zarządzanie wyjściem i zapis wyników do pliku
### Zapis danych wyjściowych do pliku
```
\o nazwa_pliku.txt
SELECT * FROM nazwa_tabeli;
\o
```


# Praca z danymi
### Ustawienie pojedynczego rekordu na linie
```
\x
```


# Historia
### Historia użytych komend
```
\s
```

# Z/do pliku
### Eksport danych do pliku csv
```
\copy nazwa_tabeli TO 'ścieżka/do/pliku.csv' CSV HEADER;

```
### Import danych z pliku csv
```
\copy nazwa_tabeli FROM 'ścieżka/do/pliku.csv' CSV HEADER;

```
### Wywołanie zapytania z pliku
\i '/sciezka/do/schema.sql'

### Aliasy
```
\alias ll \! ls -l

\alias mytables \dt public.*
```
alias **ll** - wyświela nam wszystkie pliki

alias **mytables** - wyświetla nam wszystkie tabele w schemacie


# Timing
### Włączenie trybu pomiaru czasu wykonania zapytań
```
\timing
```
### Tryb rozszerzonego wyświetlenia
```
\x
```


# Zmienne
### Definiowanie zmiennej, aby użyc jej w zapytaniu
```
\set min_salary 50000
SELECT * FROM employees WHERE salary > :min_salary
```

# Zapytanie w edytorze
```
\e
```
# Zmiana kodowania
```
\encoding UTF-8
```

# Powtórzenie zapytania
```
\g
```

# Wyswietlenie aktywnych sesji co 10 sekund
```
\watch 10
```


# Polecenia w terminalu (nie w psql)

### Usuwanie istniejącej bazy danych PostgreSQL
```
dropdb nazwa_bazy;
```

### Tworzenie nowej  bazy danych PostgreSQL
```
createdb nazwa_bazy;
```

### Usuwanie usera
```
dropuser name
```
### Tworzenie usera
```
createuser name
```

### Tworzy ponownie indeksy
```
reindexdb
```